+++
title = "4. AWS: EC2, Network"
description = "í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ AWSì˜ ê¸°ë³¸ì ì¸ ë‚´ìš©ê³¼ EC2, ë„¤íŠ¸ì›Œí¬ ì„œë¹„ìŠ¤ë¥¼ ë°°ì›Œë´…ë‹ˆë‹¤."
icon = "article"
date = "2023-09-11"
lastmod = "2023-10-05"
weight = 340
+++

<!-- TODO: update `date` and `lastmod` -->

AWS(Amazon Web Services)ëŠ” í´ë¼ìš°ë“œ ì»´í“¨íŒ… í”Œë«í¼ìœ¼ë¡œ, í˜„ì¬ ì „ì„¸ê³„ì—ì„œ ê°€ì¥ ë§ì´ ì‚¬ìš©ë˜ê³  ìˆëŠ” í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. Microsoft Azureì™€ Google Cloud Platformê³¼ í•¨ê»˜ ì„¸ê³„ 3ëŒ€ í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ë¡œ ê¼½íˆê³  ìˆì–´ìš”. ì´ ì¤‘ì—ì„œë„ AWSëŠ” ê°€ì¥ ì˜¤ë˜ë˜ì—ˆê³ , ê°€ì¥ ë§ì€ ì‚¬ìš©ìë¥¼ ë³´ìœ í•˜ê³  ìˆìŠµë‹ˆë‹¤. (TMI: FBIì—ì„œë„ AWSë¥¼ ì‚¬ìš©í•œë‹¤ê³  í•´ìš”!) ê·¸ë˜ì„œ ë‹¤ë¥¸ ì„œë¹„ìŠ¤ë“¤ë„ AWSë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì§€ì›í•˜ê³  ìˆê³ , AWSë¥¼ ë¨¼ì € ë°°ìš°ë©´ ë‹¤ë¥¸ í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ë„ ë°°ìš°ê¸° ì‰¬ì›Œìš”.

ì´ë²ˆ ì‹œê°„ë¶€í„° 3ì£¼ ê°„ AWSë¥¼ í™œìš©í•œ í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ë¥¼ ë°°ì›Œë³¼ ê±°ì˜ˆìš”. ì´ë²ˆ ì‹œê°„ì—ëŠ” AWSì˜ ê°€ì¥ ê¸°ë³¸ì ì¸ ì„œë¹„ìŠ¤ì¸ EC2ë¥¼ ë°°ì›Œë³´ê³ , EC2ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ AWSì˜ ë„¤íŠ¸ì›Œí¬ ì„œë¹„ìŠ¤ë¥¼ ë°°ì›Œë³¼ ê±°ì˜ˆìš”.

## ê³µë¶€í•  ë‚´ìš© ğŸ“š

### 1. AWS

ë³¸ê²©ì ìœ¼ë¡œ AWSë¥¼ ì‚¬ìš©í•´ë³´ê¸° ì „ì— AWSë€ ë¬´ì—‡ì´ê³ , ì–´ë–¤ ì„œë¹„ìŠ¤ë“¤ì´ ìˆëŠ”ì§€ ì•Œì•„ë´…ë‹ˆë‹¤. íšŒì›ê°€ì…ë„ í•´ë³´ê³  AWSë¥¼ ì‚´í´ë³´ë©´ì„œ ì£¼ì˜í•  ì ë“¤ë„ ë°°ì›Œë´…ë‹ˆë‹¤.

- AWSì˜ ë°°ê²½ê³¼ íŠ¹ì§•, ì œê³µí•˜ëŠ” ì„œë¹„ìŠ¤ë“¤ì„ ì•Œì•„ë´…ë‹ˆë‹¤.
- AWSì— íšŒì›ê°€ì…ì„ í•˜ê³ , AWS Consoleì— ë¡œê·¸ì¸í•´ë´…ë‹ˆë‹¤.
- í•´í‚¹ ì˜ˆë°©ì„ ìœ„í•´ AWS ê³„ì •ì— MFA(Multi-Factor Authentication)ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.
- AWS free tierê°€ ë¬´ì—‡ì¸ì§€ **ê°„ë‹¨í•˜ê²Œ** ì•Œì•„ë´…ë‹ˆë‹¤.

#### ì°¸ê³  ìë£Œ

- **[44BITS "ì•„ë§ˆì¡´ ì›¹ ì„œë¹„ìŠ¤(AWS, Amazon Web Serivces)ë€?"](https://www.44bits.io/ko/keyword/amazon-web-service)**: AWSì˜ ê°œìš”ì™€ íŠ¹ì§•, ì£¼ìš” ì„œë¹„ìŠ¤ë“¤ì„ ì„¤ëª…í•©ë‹ˆë‹¤. ë‚˜ì—´ì‹ìœ¼ë¡œ ì •ë¦¬ë˜ì–´ìˆì–´ì„œ ë¶„ëŸ‰ì´ ë§ì€ë°, 'ì´ëŸ° ì„œë¹„ìŠ¤ê°€ ìˆë‹¤!' ëŠë‚Œìœ¼ë¡œ ì°¸ê³ í•˜ì„¸ìš”. ì°¨ì°¨ ê³µë¶€í•  ë‚´ìš©ë“¤ì´ë‹ˆ, ì „ë¶€ ì•Œ í•„ìš”ëŠ” ì—†ì–´ìš”.
- **[AWS Console](https://console.aws.amazon.com/console/home)**: AWSì— íšŒì›ê°€ì…í•˜ê³ , AWS Consoleì— ë¡œê·¸ì¸í•´ë´…ë‹ˆë‹¤.
- **[ì•„ë§ˆì¡´ ì›¹ ì„œë¹„ìŠ¤ AWS 2ë‹¨ê³„ ì¸ì¦ í™œì„±í™”í•˜ëŠ” ë°©ë²•](https://www.lainyzine.com/ko/article/how-to-enable-multi-factor-authentication-on-amazon-web-service/)**: AWS ê³„ì •ì— MFAë¥¼ ì„¤ì •í•˜ëŠ” ë°©ë²•ì„ ì„¤ëª…í•©ë‹ˆë‹¤.

> [!IMPORTANT]  
> AWS ê³„ì •ì„ ì†Œì¤‘í•˜ê²Œ ë‹¤ë¤„ì£¼ì„¸ìš”! AWS ê³„ì •ì´ í•´í‚¹ë˜ë©´ ìˆœì‹ê°„ì— ìˆ˜ì²œë§Œì›ì´ ê³¼ê¸ˆë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. MFA ì„¤ì •ì„ ê¼­ í•´ì£¼ì‹œê³ , ê°ì¢… secretê³¼ tokenì´ ì™¸ë¶€ì— ë…¸ì¶œë˜ì§€ ì•Šë„ë¡ ê°ë³„íˆ ìœ ì˜í•´ì£¼ì„¸ìš”. **(GitHubì— ì ˆëŒ€ ì˜¬ë¦¬ë©´ ì•ˆë¼ìš”!)**

> [!NOTE]  
> ì•ìœ¼ë¡œ AWS ì‹¤ìŠµí•˜ë©´ì„œ ìµœëŒ€í•œ free tier í•œë„ ë‚´ì—ì„œ ì‹¤ìŠµí•˜ê² ì§€ë§Œ, ì¼ë¶€ ì‹¤ìŠµì€ ì†Œì •ì˜ ìš”ê¸ˆì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìš”ê¸ˆì´ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì‹¤ìŠµì€ ì£¼ì˜í•´ì„œ ì§„í–‰í•´ì£¼ì„¸ìš”!

### 2. Amazon EC2

AWSì˜ ê°€ì¥ ê¸°ë³¸ ì„œë¹„ìŠ¤ë¼ê³  í•  ìˆ˜ ìˆëŠ” EC2ë¥¼ ì‚¬ìš©í•´ë´…ë‹ˆë‹¤. EC2ëŠ” ê°€ìƒ ë¨¸ì‹ ì„ ëŒ€ì—¬í•´ì¤€ë‹¤ê³  ìƒê°í•˜ë©´ ë©ë‹ˆë‹¤. EC2ë¥¼ ì‚¬ìš©í•˜ë©´ ê°€ìƒ ë¨¸ì‹ ì„ ë¹ ë¥´ê²Œ ìƒì„±í•˜ê³ , ì‚­ì œí•˜ê³ , ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- EC2ì˜ ê°œë…ê³¼ íŠ¹ì§•ì„ ì•Œì•„ë´…ë‹ˆë‹¤. (instance type, êµ¬ë§¤ ì˜µì…˜, life cycle)
- EC2 ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê³  ì ‘ì†í•´ë´…ë‹ˆë‹¤. (t3.nano ì¶”ì²œ)
- Security Groupì´ ë¬´ì—‡ì¸ì§€ ì•Œì•„ë³´ê³ , SSHë¡œ ì ‘ì†í•  ìˆ˜ ìˆë„ë¡ í¬íŠ¸ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.
- Instance Connectì™€ SSHë¡œ EC2ì— ì ‘ì†í•´ë´…ë‹ˆë‹¤. (ë‘ ë°©ë²• ê°ê° í•´ë³´ì„¸ìš”!)
- Elastic IPê°€ ë¬´ì—‡ì¸ì§€ ì•Œì•„ë´…ë‹ˆë‹¤. **(í•˜ë‚˜ í• ë‹¹ë§Œ ë¬´ë£Œì…ë‹ˆë‹¤!)**

#### ì°¸ê³  ìë£Œ

- **["AWS EC2 ê°œë… ì •ë¦¬" (ê¸€)](https://velog.io/@server30sopt/AWS-EC2-%EA%B0%9C%EB%85%90-%EC%A0%95%EB%A6%AC)**: EC2ì˜ ë‹¤ì–‘í•œ ê°œë…ë“¤ì´ ì •ë¦¬ë˜ì–´ìˆìŠµë‹ˆë‹¤.
- **[ìƒí™œì½”ë”© "AWS - EC2 ê¸°ë³¸ ì‚¬ìš©ë²•" (ì•½ 15ë¶„)](https://youtu.be/Pv2yDJ2NKQA?si=QaQlK6SNN_hZ03Cx)**: EC2ë¥¼ ì„¸íŒ…í•´ë³´ëŠ” ì‹¤ìŠµ ì˜ìƒì…ë‹ˆë‹¤. ì˜ìƒì˜ UIê°€ ìµœì‹ ì´ ì•„ë‹ˆë¼ì„œ ì‹¤ì œ UIì™€ ì¢€ ë‹¤ë¥¼ ìˆ˜ ìˆì§€ë§Œ ê°ì•ˆí•˜ë©´ì„œ ë”°ë¼í•´ë³´ì„¸ìš”.
- **["EIP(íƒ„ë ¥ì  IP) ê°œë… & ì‚¬ìš© ì„¸íŒ… ì •ë¦¬" (ê¸€)](https://inpa.tistory.com/entry/AWS-%F0%9F%93%9A-%ED%83%84%EB%A0%A5%EC%A0%81-IP-Elastic-IP-EIP-%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80)**: Elastic IPì˜ ê°œë…ê³¼ ì‚¬ìš© ë°©ë²•ì„ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤.

> TIP: ì•„ë˜ ë§í¬ì—ì„œ EC2 instance typeì„ ì‰½ê²Œ ë¹„êµí•´ë³¼ ìˆ˜ ìˆì–´ìš”.  
> https://instances.vantage.sh

### 3. AWS Network

AWSì—ëŠ” ë‹¤ì–‘í•œ ë„¤íŠ¸ì›Œí¬ ì„¤ì •ì´ ìˆìŠµë‹ˆë‹¤. ë„ˆë¬´ ë°©ëŒ€í•´ì„œ ë‚´ìš©ì„ ëª¨ë‘ ë‹¤ë£¨ê¸°ëŠ” ì–´ë µê³ , ê¸°ì´ˆì ì¸ ë‚´ìš©ë§Œ ë‹¤ë£¨ì–´ë´…ë‹ˆë‹¤.

- Regionê³¼ Availability Zone(ê°€ìš© ì˜ì—­)ì´ ë¬´ì—‡ì¸ì§€ ì•Œì•„ë´…ë‹ˆë‹¤.
- Amazon VPC ì„œë¹„ìŠ¤ì˜ ê°œë…ê³¼ subnet, route table, internet gatewayì— ëŒ€í•´ ì•Œì•„ë´…ë‹ˆë‹¤.

#### ì°¸ê³  ìë£Œ

- **[ê°“ëŒ€í¬ "ë¦¬ì „(ì§€ì—­)ê³¼ ê°€ìš©ì˜ì—­(Availability Zone)" (ê¸€)](https://goddaehee.tistory.com/178)**: AWSì˜ ë¦¬ì „ê³¼ ê°€ìš© ì˜ì—­ì˜ ê°œë…ê³¼ use caseë¥¼ ì„¤ëª…í•œ ê¸€ì…ë‹ˆë‹¤.
- **[Inpa Dev "VPC ê°œë… & ì‚¬ìš©" (ê¸€)](https://inpa.tistory.com/entry/AWS-%F0%9F%93%9A-VPC-%EC%82%AC%EC%9A%A9-%EC%84%9C%EB%B8%8C%EB%84%B7-%EC%9D%B8%ED%84%B0%EB%84%B7-%EA%B2%8C%EC%9D%B4%ED%8A%B8%EC%9B%A8%EC%9D%B4-NAT-%EB%B3%B4%EC%95%88%EA%B7%B8%EB%A3%B9-NACL-Bastion-Host)**: VPCì™€ subnet, routing table, internet gatewayë¥¼ ì„¤ëª…í•˜ê³  ì§ì ‘ êµ¬ì„±í•´ë´…ë‹ˆë‹¤.

#### ë” ê³µë¶€í•´ë³´ë©´ ì¢‹ì„ ê°œë…(ì„ íƒ)
VPCëŠ” AWSì—ì„œ ì¤‘ìš”í•˜ë©´ì„œë„ ê½¤ ì–´ë ¤ìš´ ë‚´ìš©ì´ì—ìš”. ì•„ë˜ ì˜ìƒì—ì„œ VPCë¥¼ ì˜ ì„¤ëª…í•˜ê³  ìˆìœ¼ë‹ˆ, ê´€ì‹¬ì´ ìˆë‹¤ë©´ í•œ ë²ˆ ë³´ì„¸ìš”. (ì•½ 46ë¶„)  
https://youtu.be/R1UWYQYTPKo?si=RzDLMDB2E2ulDJRi

## í”„ë¡œì íŠ¸ ì‹¤ìŠµ ğŸˆ

ì§€ë‚œ ì£¼ì— ì„¸íŒ…í–ˆë˜ Docker containerë“¤ì„ EC2ì— ì˜¬ë ¤ì„œ ë°°í¬í•´ë³¼ ê±°ì˜ˆìš”! EC2ì— Dockerë¥¼ ì„¤ì¹˜í•˜ê³ , Docker containerë¥¼ êµ¬ì„±í•œ ë‹¤ìŒ, íœ´ëŒ€í°ì—ì„œ EC2ì˜ public IPë¡œ ì ‘ì†í•´ë³´ì„¸ìš”. ì˜ˆì‹œëŠ” [dotoleeoak.tech](http://dotoleeoak.tech)ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”.

```mermaid
flowchart LR
  subgraph Amazon EC2
    subgraph Docker Compose
      Nginx -- localhost:3000 --> Node.js
    end
  end
  Client -- http://<domain-name> --> Nginx
```

- Nginx containerì—ì„œ listení•˜ëŠ” portë¥¼ 80ë²ˆ(HTTP)ìœ¼ë¡œ ë³€ê²½í•´ì£¼ì„¸ìš”.
- Linuxì— Dockerë¥¼ ì„¤ì¹˜í•  ë•Œ ì•„ë˜ scriptë¥¼ ì´ìš©í•˜ë©´ ì‰½ê²Œ ì„¤ì¹˜í•  ìˆ˜ ìˆì–´ìš”.

```sh
curl -fsSL https://get.docker.com | sudo sh -
```

- ì„¤ì¹˜ ì´í›„ì— Dockerë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” root ê¶Œí•œì´ í•„ìš”í•©ë‹ˆë‹¤. root ê¶Œí•œ ì—†ì´ Dockerë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ë‹¤ìŒ ë§í¬ë¥¼ ì°¸ê³ í•´ì„œ Docker ê·¸ë£¹ì— í˜„ì¬ ì‚¬ìš©ìë¥¼ ì¶”ê°€í•´ì£¼ì„¸ìš”. https://docs.docker.com/engine/install/linux-postinstall/
- Elastic IPë¡œ ê³ ì • IPë¥¼ í• ë‹¹í•´ë³´ì„¸ìš”.
- [ë„ë©”ì¸ ë“±ë¡ ê°€ì´ë“œ](../reference/Free%20Domain.md)ì— ë”°ë¼ ë¬´ë£Œ ë„ë©”ì¸(.tech)ë¥¼ ë°œê¸‰ë°›ì•„ Elastic IPë¥¼ ë“±ë¡í•´ë³´ì„¸ìš”.

> [!NOTE]  
> ë¸Œë¼ìš°ì €ì— IP ì£¼ì†Œë‚˜ ë„ë©”ì¸ì„ ì…ë ¥í•˜ë©´ ê¸°ë³¸ì ìœ¼ë¡œ HTTPS ì—°ê²°ì„ ì‹œë„í•©ë‹ˆë‹¤. HTTPS ì—°ê²°ì„ ìœ„í•´ì„œëŠ” SSL ì¸ì¦ì„œê°€ í•„ìš”í•œë°, ì´ë²ˆ ì‹¤ìŠµì—ì„œëŠ” SSL ì¸ì¦ì„œë¥¼ ë°œê¸‰ë°›ì§€ ì•Šê³  HTTPë¡œë§Œ ì—°ê²°í•©ë‹ˆë‹¤. ë°˜ë“œì‹œ ì•ì— `http://`ë¥¼ ë¶™ì´ê³  ì ‘ì†ì„ ì‹œë„í•´ì£¼ì„¸ìš”!

> **Challenge! ğŸ”¥ (ì„ íƒ)**  
> EC2ë¥¼ VPC ë‚´ë¶€ì— êµ¬ì„±í•˜ê³ , internet gatewayë¡œ ì™¸ë¶€ì™€ í†µì‹ í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •í•´ë³´ì„¸ìš”.
