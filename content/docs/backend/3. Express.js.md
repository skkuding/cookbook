+++
title = "3. Express.js"
description = "ì›¹ í”„ë ˆì„ì›Œí¬ì¸ Express.jsì— ëŒ€í•´ ì•Œì•„ë´…ë‹ˆë‹¤."
icon = "article"
date = "2023-09-08"
lastmod = "2023-09-08"
weight = 130
+++

<!-- TODO: update `date` and `lastmod` -->

Express.jsëŠ” ì›¹ ì„œë²„ë¥¼ ë§Œë“¤ê¸° ìœ„í•œ Node.jsì˜ ì›¹ í”„ë ˆì„ì›Œí¬ì…ë‹ˆë‹¤. Node.jsì˜ http ëª¨ë“ˆë¡œë„ ì›¹ ì„œë²„ë¥¼ ë§Œë“¤ ìˆ˜ ìˆì§€ë§Œ, Express.jsë¥¼ ì‚¬ìš©í•˜ë©´ ë” ì‰½ê³  í¸ë¦¬í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë°±ì—”ë“œì—ì„œ NestJSë¥¼ ë°°ìš°ê¸° ì „ Express.jsì— ëŒ€í•´ì„œ ë¨¼ì € ê³µë¶€ë¥¼ í•˜ëŠ” ì´ìœ ëŠ”, NestJSëŠ” Expressë¥¼ ê¸°ë³¸ìœ¼ë¡œ ì±„íƒí•˜ê³  ê·¸ ìœ„ì— ì—¬ëŸ¬ê°€ì§€ ê¸°ëŠ¥ì„ ë¯¸ë¦¬ êµ¬í˜„í•´ë†“ì€ í”„ë ˆì„ì›Œí¬ì´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. Express.jsì— ëŒ€í•´ì„œ ë¨¼ì € ë°°ì› ì„ ë•Œ, NestJSë¥¼ ì¡°ê¸ˆ ë” ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.
> Under the hood, Nest makes use of robust HTTP Server frameworks like Express (the default) and optionally can be configured to use Fastify as well! [NestJS ê³µì‹ë¬¸ì„œ](https://docs.nestjs.com/)

ì´ë²ˆ ì£¼ì°¨ì—ëŠ” Express.jsì— ëŒ€í•´ì„œ ì•Œì•„ë³´ë©° ê°„ë‹¨í•œ ì›¹ì„œë²„ë¥¼ ë§Œë“¤ì–´ë³¼ ì˜ˆì •ì…ë‹ˆë‹¤.

- ì¸í”„ë¼ ìŠ¤í„°ë”” 2ì£¼ì°¨ë¥¼ ì°¸ê³ í•˜ì—¬ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤ (@dotoleeoak ê°ì‚¬í•©ë‹ˆë‹¤ ğŸ¥º)

## ê³µë¶€í•  ë‚´ìš© ğŸ“š

### 1. Express.js

Express.jsëŠ” Node.jsì˜ í•µì‹¬ ëª¨ë“ˆì¸ httpì™€ Connect ì»´í¬ë„ŒíŠ¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ëŠ” ì›¹ í”„ë ˆì„ì›Œí¬ì…ë‹ˆë‹¤. ê¸°ì¡´ Node.jsë¥¼ ì´ìš©í•˜ì—¬ ì›¹ì„œë²„ë¥¼ ë§Œë“¤ì—ˆì„ ë•Œì—ëŠ” ë‹¤ì–‘í•œ ë¬¸ì œë“¤ì´ ì¡´ì¬í–ˆì—ˆìŠµë‹ˆë‹¤(Request Body íŒŒì‹±, ì¤‘ë³µëœ ì—ëŸ¬ ì²˜ë¦¬ ì½”ë“œ, ë³µì¡í•œ if ì¡°ê±´ì„ í†µí•œ ë¼ìš°íŒ… êµ¬ì„± ë“±). í•˜ì§€ë§Œ Express.jsë¥¼ ì‚¬ìš©í•˜ë©´ ì´ëŸ¬í•œ ë¬¸ì œë“¤ì„ í•´ê²°í•  ìˆ˜ ìˆìŒì€ ë¬¼ë¡  ë”ìš± ê°„í¸í•˜ê²Œ ì›¹ì„œë²„ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

Express.jsì˜ ë‹¤ìŒ ê°œë…ë“¤ì— ëŒ€í•´ ê³µë¶€í•´ë´…ì‹œë‹¤.

- Express.js ì„¤ì¹˜ì™€ ì‹¤í–‰
- ë¼ìš°íŒ…
- JSON í˜•ì‹
- ë¯¸ë“¤ì›¨ì–´
- ì˜¤ë¥˜ ì²˜ë¦¬

ì•„ë˜ ìë£Œë“¤ ì¤‘ ì›í•˜ëŠ” ìë£Œë¥¼ ê³¨ë¼ì„œ ê³µë¶€í•´ë³´ì„¸ìš”. ë‹¤ë¥¸ ìë£Œë¥¼ ì°¾ì•„ë´ë„ ì¢‹ì•„ìš”.

- **[Express.js ê³µì‹ ë¬¸ì„œ](https://expressjs.com/ko/)**: ê°„ê²°í•˜ê²Œ í•µì‹¬ ê¸°ëŠ¥ë“¤ì´ ì˜ ì •ë¦¬ë˜ì–´ìˆìŠµë‹ˆë‹¤. 'ì‹œì‘í•˜ê¸°'ì™€ 'ì•ˆë‚´ì„œ'ì˜ ë¼ìš°íŒ…, ë¯¸ë“¤ì›¨ì–´, ì˜¤ë¥˜ ì²˜ë¦¬ë¥¼ ê³µë¶€í•´ë³´ì„¸ìš”. 
- **[ìƒí™œì½”ë”© Express.js ê°•ì˜](https://opentutorials.org/course/3370)**: ì¡°ê¸ˆ ì˜¤ë˜ë˜ì—ˆì§€ë§Œ ì¸ê¸° ìˆëŠ” ê°•ì˜ì…ë‹ˆë‹¤.

### 2. npm, package.json, ëª¨ë“ˆ

ì´ ë¶€ë¶„ì€ Node.jsë¥¼ ì‚¬ìš©í•  ë•Œ ìì£¼ ì‚´í´ë³´ê²Œ ë  ë‚´ìš©ì´ë‹ˆ ë„ˆë¬´ ê¹Šê²ŒëŠ” ì•„ë‹ˆë”ë¼ë„ ì¡°ê¸ˆì”©ì€ ê³µë¶€í•´ë³´ì‹œê¸¸ ë°”ëë‹ˆë‹¤.

- ëª¨ë“ˆì˜ ê°œë…ê³¼ Node.jsì—ì„œ ëª¨ë“ˆì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë´…ë‹ˆë‹¤.
- npm CLIì˜ ê¸°ë³¸ì ì¸ ëª…ë ¹ì–´ë“¤ì„ ì‹¤ìŠµí•´ë´…ë‹ˆë‹¤. (`init`, `install`, `run`, `npx`)
- node_modules, package.jsonê³¼ package-lock.jsonì˜ ì—­í• ê³¼ êµ¬ì¡°ë¥¼ ì•Œì•„ë´…ë‹ˆë‹¤.
    - package-lock.json ë•Œë¬¸ì— í˜‘ì—…ì—ì„œ ìì£¼ ì¶©ëŒí•˜ëŠ”ë°.. ì´ íŒŒì¼ì´ ë­˜ ì˜ë¯¸í•˜ëŠ” ê±´ì§€ í•œ ë²ˆ ì•Œì•„ë³´ì„¸ìš”.
- CommonJSì™€ ESModuleì˜ ì°¨ì´ë¥¼ ì•Œì•„ë´…ë‹ˆë‹¤.

> ë” ê³µë¶€í•´ë³´ë©´ ì¢‹ì„ ê°œë…(ì„ íƒ): MonoRepo, pnpm

ì°¸ê³ í• ë§Œí•œ ìë£Œë“¤ì…ë‹ˆë‹¤.

- **[Fireship "JavaScript Modules in 100 Seconds" (ì•½ 2ë¶„)](https://youtu.be/qgRUr-YUk1Q?si=HMhLnfetlbfIExcN)**: ê°„ê²°í•˜ê²Œ ëª¨ë“ˆì„ ì„¤ëª…í•œ ì˜ìƒì…ë‹ˆë‹¤. (ì˜ì–´ ì£¼ì˜!!)
- **["JavaScript Module System" (ê¸€)](https://velog.io/@doondoony/JavaScript-Module-System)**: JavaScript ëª¨ë“ˆê³¼ ESM, CommonJS ë“±ì— ëŒ€í•´ ìƒì„¸í•˜ê²Œ ë‹¤ë£¬ ê¸€ì…ë‹ˆë‹¤.
- **["ëª¨ë“ˆí™”ì™€ npm" (ê¸€)](https://poiemaweb.com/nodejs-npm)**: npm ê¸°ëŠ¥ë“¤ì„ ì‹¤í–‰í•´ë³´ë©° ë°°ìš¸ ìˆ˜ ìˆëŠ” ê¸€ì…ë‹ˆë‹¤.
- **["Package.jsonê³¼ Package-lock.jsonì˜ ì°¨ì´ë¥¼ ì•„ì‹œë‚˜ìš”?" (ê¸€)](https://velog.io/@songyouhyun/Package.jsonê³¼-Package-lock.jsonì˜-ì°¨ì´)**: package.jsonê³¼ package-lock.jsonì„ ì´í•´í•˜ê¸° ì‰½ê²Œ ì„¤ëª…í•œ ê¸€ì…ë‹ˆë‹¤.
- **["ëª¨ë“ˆ ë‚´ë³´ë‚´ê¸°/ë¶ˆëŸ¬ì˜¤ê¸° (CommonJS vs ES6)" (ê¸€)](https://it-eldorado.tistory.com/92)**: CommonJSì™€ ES6ì˜ ì°¨ì´ë¥¼ ê°„ë‹¨í•˜ê²Œ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤. 
- **["npm, yarn, pnpm ë¹„êµí•´ë³´ê¸°" (ê¸€)](https://yceffort.kr/2022/05/npm-vs-yarn-vs-pnpm)**: npmì˜ ëŒ€ì²´ì¬ì¸ yarn, pnpmê³¼ì˜ ì°¨ì´ë¥¼ ë¹„êµí•œ ê¸€ì…ë‹ˆë‹¤. 
- **[npm ê³µì‹ë¬¸ì„œ](https://docs.npmjs.com)**: npm ê³µì‹ë¬¸ì„œ ë§í¬ì…ë‹ˆë‹¤. ì˜ì–´ë¡œ ë˜ì–´ìˆê³ , ì–‘ì´ ë§ìœ¼ë‹ˆ ê¶ê¸ˆí•œ ë¶€ë¶„ë§Œ ê³¨ë¼ì„œ í™•ì¸í•´ì£¼ì‹œë©´ ë  ê²ƒ ê°™ìŠµë‹ˆë‹¤.

## í”„ë¡œì íŠ¸ ì‹¤ìŠµ ğŸˆ

ì´ë²ˆ ì£¼ì°¨ì—ëŠ” Express.jsë¥¼ í™œìš©í•˜ì—¬ ìœ¨ì „ ê·¼ì²˜ì˜ ë§›ì§‘ë“¤ì„ ê´€ë¦¬í•˜ëŠ” ê°„ë‹¨í•œ ì›¹ì„œë²„ë¥¼ ë§Œë“¤ì–´ë³¼ ê²ƒì…ë‹ˆë‹¤. ì´ë²ˆì—ëŠ” ë‹¤ì–‘í•œ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ê³  ì—ëŸ¬ ì²˜ë¦¬ë„ í•  ìˆ˜ ìˆê²Œë” í•  ì˜ˆì •ì´ì—ìš”.

**ìœ ì˜ì‚¬í•­**
- ES6 importë¥¼ ì‚¬ìš©í•´ë³´ì„¸ìš”. package.jsonì˜ `type`ì„ `module`ë¡œ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤. (`import express from 'express'`)
- (ì„ íƒ) nodemonì„ ì„¤ì¹˜í•´ ì½”ë“œê°€ ë°”ë€Œë©´ ìë™ìœ¼ë¡œ ì„œë²„ê°€ ì¬ì‹œì‘ë˜ë„ë¡ í•´ë³´ì„¸ìš”.
- (ì„ íƒ) npm, yarn, pnpm ë“±ì„ ì‚¬ìš©í•´ë³´ë©´ì„œ package managerë¥¼ ì–´ë–»ê²Œ ì‚¬ìš©í•˜ëŠ”ì§€ ì•Œì•„ë³´ì„¸ìš”.
- API ì‘ë‹µì„ í…ŒìŠ¤íŠ¸í•´ë³¼ ë•Œì—ëŠ” ì• ì£¼ì°¨ì™€ ê°™ì´ Postmanì´ë‚˜ ë‹¤ë¥¸ API í…ŒìŠ¤íŒ… íˆ´ìœ¼ë¡œ ì‹œí—˜í•´ë³´ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤.
- í´ë” êµ¬ì¡°ëŠ” ë§ˆìŒëŒ€ë¡œ ì„¤ì •í•˜ì…”ë„ ê´œì°®ìŠµë‹ˆë‹¤.
    - `routes` í´ë”ë¥¼ ë§Œë“¤ì–´ì„œ ë¼ìš°íŒ… ì†ŒìŠ¤ë¥¼ ë¶„ë¦¬í•˜ì‹œê±°ë‚˜ `services` í´ë”ë¥¼ ë§Œë“¤ì–´ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë”°ë¡œ ë¹¼ì£¼ëŠ” ë“± ììœ ë¡­ê²Œ í´ë”ë¥¼ ì„¤ì •í•˜ì‹œë©´ì„œ ì–´ë–»ê²Œ í•´ì•¼ì§€ ì¡°ê¸ˆ ë” í¸ë¦¬í•˜ê²Œ ê°œë°œí•  ìˆ˜ ìˆì„ì§€ ìƒê°í•´ì‹œë©´ ì¢‹ì„ ê²ƒ ê°™ì•„ìš”.
- ì•„ë˜ì™€ ê°™ì€ endpointë“¤ì„ êµ¬í˜„í•´ë³´ì„¸ìš”.
    - í˜„ì¬ëŠ” ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì—°ê²°í•˜ì§€ ì•Šì•˜ìœ¼ë‹ˆ json íŒŒì¼ì„ ì´ìš©í•´ì„œ ê³¼ì œë¥¼ ì§„í–‰í•´ì£¼ì„¸ìš”! (`/backend/data/restaurants.json`)
    - Path, ì—ëŸ¬ ì½”ë“œëŠ” ë”°ë¡œ ì ì§€ ì•Šì•˜ëŠ”ë°ìš”, 1ì£¼ì°¨ì— ê³µë¶€í•œ ë¶€ë¶„ + ê° endpointì˜ ì„¤ëª…ì„ ìƒê°í•˜ì‹œë©´ì„œ ì±„ì›Œë‚˜ê°€ì£¼ì„¸ìš”!

### `GET ?`

ì „ì²´ ë§›ì§‘ ëª©ë¡ì„ ë°˜í™˜í•©ë‹ˆë‹¤.

```json
{
    "restaruants": [
        {
            "name": "ë´‰ìˆ˜ìœ¡",
            "address": "ê²½ê¸° ìˆ˜ì›ì‹œ ì¥ì•ˆêµ¬ ìœ¨ì „ë¡œ108ë²ˆê¸¸ 11 1ì¸µ",
            "phone": "0507-1460-0903"
        },
        ...
    ]
}
```

### `GET ?`

íŠ¹ì • ë§›ì§‘ ì •ë³´ë¥¼ ì´ë¦„(name)ì„ í†µí•´ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤. 
Query, Parameter, Body ì¤‘ ììœ ë¡­ê²Œ ì„ íƒí•´ nameì„ ì „ë‹¬í•´ì£¼ì„¸ìš”.

> ë§Œë“¤ì–´ ë³´ë©´ì„œ Query, Parameter, Bodyë¥¼ ê°ê° ì–´ë– í•œ Contextì—ì„œ ì‚¬ìš©í•˜ë©´ ì¢‹ì„ì§€ ìƒê°í•´ë³´ì„¸ìš”. 

- **ì„±ê³µì‹œ**

```json
{
    "name": "ë´‰ìˆ˜ìœ¡",
    "address": "ê²½ê¸° ìˆ˜ì›ì‹œ ì¥ì•ˆêµ¬ ìœ¨ì „ë¡œ108ë²ˆê¸¸ 11 1ì¸µ",
    "phone": "0507-1460-0903"
}
```

- **ë§Œì•½ í•´ë‹¹ ë§›ì§‘ ì •ë³´ê°€ ì¡´ì¬í•˜ì§€ ì•Šì„ì‹œ**

```json
{
    "error": "í•´ë‹¹ ë§›ì§‘ ì •ë³´ê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤."
}
```


### `POST ?`

íŠ¹ì • ë§›ì§‘ ì •ë³´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

#### Request Body

```json
{
    "name": "ë§›ì§‘ì´ë¦„",
    "address": "ë§›ì§‘ì£¼ì†Œ",
    "phone": "ì „í™”ë²ˆí˜¸"
}
```

- ì„±ê³µì‹œ (ìƒì„±í•œ ë§›ì§‘ ì •ë³´ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.)

```json
{
    "name": "ë§›ì§‘ì´ë¦„",
    "address": "ë§›ì§‘ì£¼ì†Œ",
    "phone": "ì „í™”ë²ˆí˜¸"
}
```

- ì´ë¯¸ í•´ë‹¹ ë§›ì§‘ ì •ë³´ê°€ ì¡´ì¬í• ì‹œ

```json
{
    "error": "ì´ë¯¸ í•´ë‹¹ ë§›ì§‘ ì •ë³´ê°€ ì¡´ì¬í•©ë‹ˆë‹¤."
}
```

### `DELETE ?`

íŠ¹ì • nameì˜ ë§›ì§‘ ì •ë³´ë¥¼ ì‚­ì œí•©ë‹ˆë‹¤.
Query, Parameter, Body ì¤‘ ììœ ë¡­ê²Œ ì„ íƒí•´ nameì„ ì „ë‹¬í•´ì£¼ì„¸ìš”.

- ì„±ê³µì‹œ (ì‚­ì œí•œ ë§›ì§‘ ì •ë³´ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.)

```json
{
    "name": "ë´‰ìˆ˜ìœ¡",
    "address": "ê²½ê¸° ìˆ˜ì›ì‹œ ì¥ì•ˆêµ¬ ìœ¨ì „ë¡œ108ë²ˆê¸¸ 11 1ì¸µ",
    "phone": "0507-1460-0903"
}
```

- ë§Œì•½ í•´ë‹¹ ë§›ì§‘ ì •ë³´ê°€ ì¡´ì¬í•˜ì§€ ì•Šì„ì‹œ

```json
		{
    "error": "í•´ë‹¹ ë§›ì§‘ ì •ë³´ê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤."
}
```

### `PATCH ?`

íŠ¹ì • nameì˜ ë§›ì§‘ ì •ë³´ë¥¼ ìˆ˜ì •í•©ë‹ˆë‹¤. 

> 'ìˆ˜ì •'ê³¼ ê´€ë ¨ëœ ë™ì‘ì—ëŠ” PUT, PATCH ë‘ê°œë¥¼ ë§ì´ ì“´ë‹µë‹ˆë‹¤. ì´ ë‘ ë©”ì„œë“œ ì“°ì„ìƒˆì˜ ì°¨ì´ì— ëŒ€í•´ì„œë„ í•œ ë²ˆ ì‚´í´ë³´ì„¸ìš”.

- **ì„±ê³µì‹œ** (ìˆ˜ì •í•œ ë§›ì§‘ ì •ë³´ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.)

```json
{
    "name": "ë´‰ìˆ˜ìœ¡",
    "address": "ê²½ê¸° ìˆ˜ì›ì‹œ ì¥ì•ˆêµ¬ ìœ¨ì „ë¡œ108ë²ˆê¸¸ 11 1ì¸µ",
    "phone": "0507-1460-0903"
}
```

- **ë§Œì•½ í•´ë‹¹ ë§›ì§‘ ì •ë³´ê°€ ì¡´ì¬í•˜ì§€ ì•Šì„ì‹œ**

```json
{
    "error": "í•´ë‹¹ ë§›ì§‘ ì •ë³´ê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤."
}
```

> **Challenge! ğŸ”¥ (ì„ íƒ)**  
> ì‚¬ì‹¤ ì´ë²ˆê³¼ì œëŠ” ì‰½ê²Œ ëë‚¼ ìˆ˜ ìˆì„ í…ë°ìš”, ì‹œê°„ì´ ë‚¨ëŠ”ë‹¤ë©´ ì•„ë˜ì™€ ê°™ì€ ê¸°ëŠ¥ë“¤ì„ ì§ì ‘ ì¶”ê°€í•´ë³´ì„¸ìš”!
> * ë¯¸ë“¤ì›¨ì–´ ì¶”ê°€ (requestì˜ IP logging, ì°¾ëŠ” í˜ì´ì§€ê°€ ì—†ì„ì‹œ 404 ì—ëŸ¬ ë°˜í™˜)
> * ìƒˆë¡œìš´ api ì¶”ê°€ (ë¡œê·¸ì¸, íšŒì›ê°€ì… ë“±ë“±)
